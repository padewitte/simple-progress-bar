<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Simple progress bar</title>
  <script src="//cdnjs.cloudflare.com/ajax/libs/document-register-element/1.1.1/document-register-element.js"></script>
  <script type="text/javascript" src="progress-bar.js"></script>
  <style>
    body {
      transition: background 3s ease-in-out;
    }
    
    .container {
      width: 50%;
      min-width: 300px;
      padding: 20% 25%;
      text-align: center;
    }
    
    #increase {
      margin: 10px;
      padding: 5px;
    }
  </style>
</head>

<body>
  <div class="container">
    <custom-progress-bar max="5" current="4"></custom-progress-bar>
    <button id="increase">Increase nb of element</div>
  </div>
  <script>
    const customProgressBar = document.querySelector('custom-progress-bar');
    const bodyElement = document.querySelector('body');
    customProgressBar.addEventListener('limit-reach', (evt) => {
      bodyElement.originalBackgroundColor = bodyElement.style.backgroundColor;
      bodyElement.style.backgroundColor = 'lightpink';
    });
    customProgressBar.addEventListener('under-limit', (evt) => {
      bodyElement.style.backgroundColor = 'white';
    });

    document.querySelector('#increase').addEventListener('click', () => {
      customProgressBar.current = parseInt(customProgressBar.current) + 1
    })
  </script>
</body>

</html>